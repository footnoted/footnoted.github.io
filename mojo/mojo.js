!function(a){a.fn.makemecenter=function(b){function f(b){return b.each(function(){var b=a(this);e(b)})}var c=a.extend({position:"absolute",horizontal:!0,vertical:!0,parentRelative:window,complete:null,marginLeft:null,marginRight:null,marginTop:null,paddingLeft:null,paddingRight:null,paddingTop:null,paddingBottom:null,is_onload:!0,is_onresize:!0,is_ondatachange:!0,is_animate:!1},b),d=this;a.fn.makemecenter.destroy=function(){return d.each(function(){a(window).off("resize.makemecenter")})};var e=function(b){var d=a(c.parentRelative),e=a(d).innerHeight(),f=a(d).innerWidth();d.css({position:"relative"}),b.css({margin:"",padding:""}),b.css({position:c.position,"margin-left":c.marginLeft,"margin-right":c.marginRight,"margin-top":c.marginTop,"padding-left":c.paddingLeft,"padding-right":c.paddingRight,"padding-top":c.paddingTop,"padding-bottom":c.paddingBottom});var g=b.width();if(c.horizontal){var h=(f-g-c.marginLeft-c.marginRight-c.paddingLeft-c.paddingRight)/2;h<=0&&(h=0),b.css({left:h})}var i=b.height();if(c.vertical){var j=(e-i-c.marginTop-c.paddingTop-c.paddingBottom)/2;j<=0&&(j=0);var k={top:j,"margin-bottom":0};c.is_animate?b.animate(k):b.css(k)}if(a.isFunction(c.complete))return c.complete.call(b)};f(d),c.is_onload&&a(window).load(function(){f(d)}),c.is_onresize&&a(window).on("resize.makemecenter",function(){f(d)})}}(jQuery),function(a){a.fn.centerIt=function(b){function l(){d.css({position:k.position}),c.css({position:"absolute",left:i,top:j})}var c=a(this),d=c.parent(),e=c.height(),f=c.outerWidth(),g=d.height(),h=d.outerWidth(),i=(h-f)/2,j=(g-e)/2,k=a.extend({position:"relative"},b);l(),a(window).resize(function(){e=c.height(),f=c.outerWidth(),g=d.height(),h=d.outerWidth(),i=(h-f)/2,j=(g-e)/2,l()})}}(jQuery),function(a){"object"==typeof module&&"object"==typeof module.exports?a(require("jquery"),window,document):a(jQuery,window,document)}(function(a,b,c,d){var e=[],f=function(){return e.length?e[e.length-1]:null},g=function(){var a,b=!1;for(a=e.length-1;a>=0;a--)e[a].$blocker&&(e[a].$blocker.toggleClass("current",!b).toggleClass("behind",b),b=!0)};a.modal=function(b,c){var d,g;if(this.$body=a("body"),this.options=a.extend({},a.modal.defaults,c),this.options.doFade=!isNaN(parseInt(this.options.fadeDuration,10)),this.$blocker=null,this.options.closeExisting)for(;a.modal.isActive();)a.modal.close();if(e.push(this),b.is("a"))if(g=b.attr("href"),/^#/.test(g)){if(this.$elm=a(g),1!==this.$elm.length)return null;this.$body.append(this.$elm),this.open()}else this.$elm=a("<div>"),this.$body.append(this.$elm),d=function(a,b){b.elm.remove()},this.showSpinner(),b.trigger(a.modal.AJAX_SEND),a.get(g).done(function(c){if(a.modal.isActive()){b.trigger(a.modal.AJAX_SUCCESS);var e=f();e.$elm.empty().append(c).on(a.modal.CLOSE,d),e.hideSpinner(),e.open(),b.trigger(a.modal.AJAX_COMPLETE)}}).fail(function(){b.trigger(a.modal.AJAX_FAIL);var c=f();c.hideSpinner(),e.pop(),b.trigger(a.modal.AJAX_COMPLETE)});else this.$elm=b,this.$body.append(this.$elm),this.open()},a.modal.prototype={constructor:a.modal,open:function(){var b=this;this.block(),this.options.doFade?setTimeout(function(){b.show()},this.options.fadeDuration*this.options.fadeDelay):this.show(),a(c).off("keydown.modal").on("keydown.modal",function(a){var b=f();27==a.which&&b.options.escapeClose&&b.close()}),this.options.clickClose&&this.$blocker.click(function(b){b.target==this&&a.modal.close()})},close:function(){e.pop(),this.unblock(),this.hide(),a.modal.isActive()||a(c).off("keydown.modal")},block:function(){this.$elm.trigger(a.modal.BEFORE_BLOCK,[this._ctx()]),this.$body.css("overflow","hidden"),this.$blocker=a('<div class="jquery-modal blocker current"></div>').appendTo(this.$body),g(),this.options.doFade&&this.$blocker.css("opacity",0).animate({opacity:1},this.options.fadeDuration),this.$elm.trigger(a.modal.BLOCK,[this._ctx()])},unblock:function(b){!b&&this.options.doFade?this.$blocker.fadeOut(this.options.fadeDuration,this.unblock.bind(this,!0)):(this.$blocker.children().appendTo(this.$body),this.$blocker.remove(),this.$blocker=null,g(),a.modal.isActive()||this.$body.css("overflow",""))},show:function(){this.$elm.trigger(a.modal.BEFORE_OPEN,[this._ctx()]),this.options.showClose&&(this.closeButton=a('<a href="#close-modal" rel="modal:close" class="close-modal '+this.options.closeClass+'">'+this.options.closeText+"</a>"),this.$elm.append(this.closeButton)),this.$elm.addClass(this.options.modalClass).appendTo(this.$blocker),this.options.doFade?this.$elm.css("opacity",0).show().animate({opacity:1},this.options.fadeDuration):this.$elm.show(),this.$elm.trigger(a.modal.OPEN,[this._ctx()])},hide:function(){this.$elm.trigger(a.modal.BEFORE_CLOSE,[this._ctx()]),this.closeButton&&this.closeButton.remove();var b=this;this.options.doFade?this.$elm.fadeOut(this.options.fadeDuration,function(){b.$elm.trigger(a.modal.AFTER_CLOSE,[b._ctx()])}):this.$elm.hide(0,function(){b.$elm.trigger(a.modal.AFTER_CLOSE,[b._ctx()])}),this.$elm.trigger(a.modal.CLOSE,[this._ctx()])},showSpinner:function(){this.options.showSpinner&&(this.spinner=this.spinner||a('<div class="'+this.options.modalClass+'-spinner"></div>').append(this.options.spinnerHtml),this.$body.append(this.spinner),this.spinner.show())},hideSpinner:function(){this.spinner&&this.spinner.remove()},_ctx:function(){return{elm:this.$elm,$blocker:this.$blocker,options:this.options}}},a.modal.close=function(b){if(a.modal.isActive()){b&&b.preventDefault();var c=f();return c.close(),c.$elm}},a.modal.isActive=function(){return e.length>0},a.modal.getCurrent=f,a.modal.defaults={closeExisting:!0,escapeClose:!0,clickClose:!0,closeText:"Close",closeClass:"",modalClass:"modal",spinnerHtml:null,showSpinner:!0,showClose:!0,fadeDuration:null,fadeDelay:1},a.modal.BEFORE_BLOCK="modal:before-block",a.modal.BLOCK="modal:block",a.modal.BEFORE_OPEN="modal:before-open",a.modal.OPEN="modal:open",a.modal.BEFORE_CLOSE="modal:before-close",a.modal.CLOSE="modal:close",a.modal.AFTER_CLOSE="modal:after-close",a.modal.AJAX_SEND="modal:ajax:send",a.modal.AJAX_SUCCESS="modal:ajax:success",a.modal.AJAX_FAIL="modal:ajax:fail",a.modal.AJAX_COMPLETE="modal:ajax:complete",a.fn.modal=function(b){return 1===this.length&&new a.modal(this,b),this},a(c).on("click.modal",'a[rel~="modal:close"]',a.modal.close),a(c).on("click.modal",'a[rel~="modal:open"]',function(b){b.preventDefault(),a(this).modal()})});